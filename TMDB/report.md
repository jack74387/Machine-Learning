# TMDB é›»å½±ç¥¨æˆ¿é æ¸¬å°ˆæ¡ˆå ±å‘Š

## 1. é¡Œç›®é¸å®š

### 1.1 å•é¡Œæè¿°
æœ¬å°ˆæ¡ˆä½¿ç”¨ TMDB (The Movie Database) é›»å½±è³‡æ–™é›†ï¼Œç›®æ¨™æ˜¯é æ¸¬é›»å½±çš„ç¥¨æˆ¿æ”¶å…¥ (revenue)ã€‚é€™æ˜¯ä¸€å€‹å…¸å‹çš„å›æ­¸å•é¡Œï¼Œéœ€è¦æ ¹æ“šé›»å½±çš„å„ç¨®ç‰¹å¾µï¼ˆå¦‚é ç®—ã€é¡å‹ã€æ¼”å“¡ã€å°æ¼”ç­‰ï¼‰ä¾†é æ¸¬å…¶ç¥¨æˆ¿è¡¨ç¾ã€‚

### 1.2 è³‡æ–™é›†æ¦‚è¿°
- **è¨“ç·´é›†**: 3000 ç­†é›»å½±è³‡æ–™
- **æ¸¬è©¦é›†**: 4398 ç­†é›»å½±è³‡æ–™
- **ç‰¹å¾µæ•¸é‡**: 22 å€‹æ¬„ä½
- **ç›®æ¨™è®Šæ•¸**: revenue (ç¥¨æˆ¿æ”¶å…¥)

### 1.3 ä¸»è¦ç‰¹å¾µ
- **æ•¸å€¼å‹ç‰¹å¾µ**: budget, popularity, runtime
- **é¡åˆ¥å‹ç‰¹å¾µ**: genres, original_language, status
- **æ–‡æœ¬å‹ç‰¹å¾µ**: overview, tagline, title
- **JSON æ ¼å¼ç‰¹å¾µ**: belongs_to_collection, cast, crew, keywords, production_companies, production_countries, spoken_languages
- **æ™‚é–“ç‰¹å¾µ**: release_date

---

## 2. è³‡æ–™åˆ†æåŠè™•ç†

### 2.1 æ¢ç´¢æ€§è³‡æ–™åˆ†æ (EDA)

#### 2.1.1 ç›®æ¨™è®Šæ•¸åˆ†æ
*(å¾…å®Œæˆï¼šrevenue åˆ†å¸ƒåœ–ã€çµ±è¨ˆæè¿°)*

**ä¸»è¦ç™¼ç¾**:
- revenue åˆ†å¸ƒå‘ˆç¾å³åæ…‹
- å­˜åœ¨æ¥µç«¯å€¼ï¼ˆè¶…ç´šå¤§ç‰‡ï¼‰
- éƒ¨åˆ†é›»å½± revenue ç‚º 0ï¼ˆå¯èƒ½æ˜¯ç¼ºå¤±å€¼ï¼‰

#### 2.1.2 ç‰¹å¾µåˆ†æ
*(å¾…å®Œæˆï¼šå„ç‰¹å¾µèˆ‡ revenue çš„ç›¸é—œæ€§åˆ†æ)*

**æ•¸å€¼ç‰¹å¾µ**:
- budget: é ç®—èˆ‡ç¥¨æˆ¿å‘ˆæ­£ç›¸é—œ
- popularity: äººæ°£åº¦èˆ‡ç¥¨æˆ¿ç›¸é—œ
- runtime: é›»å½±æ™‚é•·çš„å½±éŸ¿

**é¡åˆ¥ç‰¹å¾µ**:
- genres: ä¸åŒé¡å‹é›»å½±çš„ç¥¨æˆ¿å·®ç•°
- original_language: èªè¨€å°ç¥¨æˆ¿çš„å½±éŸ¿
- release_date: ä¸Šæ˜ æ™‚é–“ï¼ˆå­£ç¯€æ€§ï¼‰çš„å½±éŸ¿

### 2.2 è³‡æ–™é è™•ç†

#### 2.2.1 ç¼ºå¤±å€¼è™•ç†
*(å¾…å®Œæˆï¼šç¼ºå¤±å€¼çµ±è¨ˆè¡¨)*

è™•ç†ç­–ç•¥ï¼š
- æ•¸å€¼å‹ï¼šä½¿ç”¨ä¸­ä½æ•¸æˆ–å¹³å‡å€¼å¡«è£œ
- é¡åˆ¥å‹ï¼šä½¿ç”¨çœ¾æ•¸æˆ–å‰µå»º "Unknown" é¡åˆ¥
- JSON æ¬„ä½ï¼šè§£æå¾Œæå–é—œéµè³‡è¨Š

#### 2.2.2 ç‰¹å¾µå·¥ç¨‹

**æ™‚é–“ç‰¹å¾µæå–**:
- release_year: ä¸Šæ˜ å¹´ä»½
- release_month: ä¸Šæ˜ æœˆä»½
- release_day: ä¸Šæ˜ æ—¥æœŸ
- release_quarter: ä¸Šæ˜ å­£åº¦

**JSON æ¬„ä½è™•ç†**:
- genres_count: é›»å½±é¡å‹æ•¸é‡
- top_genre: ä¸»è¦é¡å‹
- cast_count: æ¼”å“¡æ•¸é‡
- top_actors: ä¸»è¦æ¼”å“¡
- director: å°æ¼”
- production_companies_count: è£½ä½œå…¬å¸æ•¸é‡

**è¡ç”Ÿç‰¹å¾µ**:
- budget_popularity_ratio: é ç®—èˆ‡äººæ°£æ¯”
- has_collection: æ˜¯å¦å±¬æ–¼ç³»åˆ—é›»å½±
- title_length: æ¨™é¡Œé•·åº¦
- overview_length: ç°¡ä»‹é•·åº¦

#### 2.2.3 ç‰¹å¾µç·¨ç¢¼
- One-Hot Encoding: ç”¨æ–¼ä½åŸºæ•¸é¡åˆ¥ç‰¹å¾µ
- Label Encoding: ç”¨æ–¼é«˜åŸºæ•¸é¡åˆ¥ç‰¹å¾µ
- Target Encoding: ç”¨æ–¼èˆ‡ç›®æ¨™è®Šæ•¸é«˜åº¦ç›¸é—œçš„é¡åˆ¥ç‰¹å¾µ

#### 2.2.4 ç‰¹å¾µç¸®æ”¾
- StandardScaler: ç”¨æ–¼ç·šæ€§æ¨¡å‹
- æ¨¹æ¨¡å‹ä¸éœ€è¦ç‰¹å¾µç¸®æ”¾

---

## 3. æ¨¡å‹æ¶æ§‹èˆ‡ä»‹ç´¹

### 3.1 Baseline æ¨¡å‹

#### 3.1.1 ç·šæ€§å›æ­¸
- ç°¡å–®å¿«é€Ÿï¼Œä½œç‚ºåŸºæº–
- è©•ä¼°æŒ‡æ¨™ï¼šRMSE, MAE, RÂ²

### 3.2 é€²éšæ¨¡å‹

#### 3.2.1 Random Forest
**å„ªé»**:
- è™•ç†éç·šæ€§é—œä¿‚
- å°ç•°å¸¸å€¼ä¸æ•æ„Ÿ
- å¯ä»¥è©•ä¼°ç‰¹å¾µé‡è¦æ€§

**è¶…åƒæ•¸**:
- n_estimators: æ¨¹çš„æ•¸é‡
- max_depth: æ¨¹çš„æœ€å¤§æ·±åº¦
- min_samples_split: åˆ†è£‚æ‰€éœ€æœ€å°æ¨£æœ¬æ•¸

#### 3.2.2 XGBoost
**å„ªé»**:
- å¼·å¤§çš„æ¢¯åº¦æå‡ç®—æ³•
- å…§å»ºæ­£å‰‡åŒ–é˜²æ­¢éæ“¬åˆ
- è™•ç†ç¼ºå¤±å€¼

**è¶…åƒæ•¸**:
- learning_rate: å­¸ç¿’ç‡
- max_depth: æ¨¹çš„æ·±åº¦
- n_estimators: è¿­ä»£æ¬¡æ•¸
- subsample: æ¨£æœ¬æ¡æ¨£æ¯”ä¾‹

#### 3.2.3 LightGBM
**å„ªé»**:
- è¨“ç·´é€Ÿåº¦å¿«
- è¨˜æ†¶é«”ä½¿ç”¨å°‘
- æ”¯æ´é¡åˆ¥ç‰¹å¾µ

**è¶…åƒæ•¸**:
- num_leaves: è‘‰å­ç¯€é»æ•¸
- learning_rate: å­¸ç¿’ç‡
- feature_fraction: ç‰¹å¾µæ¡æ¨£æ¯”ä¾‹

#### 3.2.4 CatBoost
**å„ªé»**:
- è‡ªå‹•è™•ç†é¡åˆ¥ç‰¹å¾µ
- æ¸›å°‘éæ“¬åˆ
- é æ¸¬æº–ç¢ºåº¦é«˜

**è¶…åƒæ•¸**:
- iterations: è¿­ä»£æ¬¡æ•¸
- depth: æ¨¹çš„æ·±åº¦
- learning_rate: å­¸ç¿’ç‡

---

## 4. Voting ä½œæ³•è¨è«–

### 4.1 Voting Regressor (å¹³å‡æ³•)

**æ¦‚å¿µ**:
å°‡å¤šå€‹æ¨¡å‹çš„é æ¸¬çµæœé€²è¡Œå¹³å‡ï¼Œæ¸›å°‘å–®ä¸€æ¨¡å‹çš„åå·®ã€‚

**å¯¦ä½œæ–¹å¼**:
```python
from sklearn.ensemble import VotingRegressor

voting_reg = VotingRegressor([
    ('rf', random_forest),
    ('xgb', xgboost),
    ('lgb', lightgbm),
    ('cat', catboost)
])
```

**å„ªé»**:
- ç°¡å–®æ˜“å¯¦ä½œ
- é€šå¸¸èƒ½æå‡é æ¸¬ç©©å®šæ€§
- æ¸›å°‘éæ“¬åˆé¢¨éšª

**ç¼ºé»**:
- æ‰€æœ‰æ¨¡å‹æ¬Šé‡ç›¸åŒ
- ç„¡æ³•é‡å°ä¸åŒæ¨¡å‹çš„å„ªå‹¢é€²è¡Œèª¿æ•´

### 4.2 Weighted Voting (åŠ æ¬Šå¹³å‡)

**æ¦‚å¿µ**:
æ ¹æ“šå„æ¨¡å‹åœ¨é©—è­‰é›†ä¸Šçš„è¡¨ç¾ï¼Œçµ¦äºˆä¸åŒæ¬Šé‡ã€‚

**æ¬Šé‡è¨­å®šç­–ç•¥**:
- åŸºæ–¼é©—è­‰é›† RMSE çš„å€’æ•¸
- åŸºæ–¼äº¤å‰é©—è­‰åˆ†æ•¸
- æ‰‹å‹•èª¿æ•´æ¬Šé‡

**å¯¦ä½œæ–¹å¼**:
```python
voting_reg = VotingRegressor([
    ('rf', random_forest),
    ('xgb', xgboost),
    ('lgb', lightgbm),
    ('cat', catboost)
], weights=[0.2, 0.3, 0.3, 0.2])
```

### 4.3 Stacking

**æ¦‚å¿µ**:
ä½¿ç”¨ä¸€å€‹å…ƒæ¨¡å‹ (meta-model) ä¾†å­¸ç¿’å¦‚ä½•æœ€ä½³çµ„åˆåŸºç¤æ¨¡å‹çš„é æ¸¬ã€‚

**æ¶æ§‹**:
- Level 0: åŸºç¤æ¨¡å‹ (Random Forest, XGBoost, LightGBM, CatBoost)
- Level 1: å…ƒæ¨¡å‹ (é€šå¸¸ä½¿ç”¨ç·šæ€§å›æ­¸æˆ– Ridge)

**å„ªé»**:
- èƒ½å­¸ç¿’æœ€ä½³çµ„åˆæ–¹å¼
- é€šå¸¸æ¯”ç°¡å–®å¹³å‡æ•ˆæœæ›´å¥½

**ç¼ºé»**:
- è¨ˆç®—æˆæœ¬è¼ƒé«˜
- éœ€è¦é¡å¤–çš„é©—è­‰é›†
- å¯èƒ½éæ“¬åˆ

### 4.4 Blending

**æ¦‚å¿µ**:
é¡ä¼¼ Stackingï¼Œä½†ä½¿ç”¨å›ºå®šçš„é©—è­‰é›†ä¾†è¨“ç·´å…ƒæ¨¡å‹ã€‚

**èˆ‡ Stacking çš„å·®ç•°**:
- Stacking ä½¿ç”¨äº¤å‰é©—è­‰
- Blending ä½¿ç”¨å–®ä¸€é©—è­‰é›†
- Blending è¨ˆç®—æ›´å¿«ä½†å¯èƒ½ä¸å¤ ç©©å®š

---

## 5. æœ€çµ‚çµæœ

### 5.1 æ¨¡å‹æ€§èƒ½æ¯”è¼ƒ

**åŸºç¤æ¨¡å‹çµæœ** (ä½¿ç”¨ç°¡åŒ–ç‰ˆæœ¬):

| æ¨¡å‹ | RMSE | MAE | RÂ² | èªªæ˜ |
|------|------|-----|----|----|
| Random Forest | $72,395,536 | $39,823,460 | 0.6884 | åŸºç¤æ¨¡å‹ï¼Œå·²å¯¦ä½œ |

**é æœŸå®Œæ•´ç‰ˆæœ¬çµæœ** (å®‰è£å®Œæ•´å¥—ä»¶å¾Œ):

| æ¨¡å‹ | RMSE (é æœŸ) | MAE (é æœŸ) | RÂ² (é æœŸ) | è¨“ç·´æ™‚é–“ |
|------|------|-----|----|----|
| Random Forest | ~$72M | ~$40M | ~0.69 | ä¸­ç­‰ |
| XGBoost | ~$68M | ~$38M | ~0.72 | å¿«é€Ÿ |
| LightGBM | ~$67M | ~$37M | ~0.73 | æœ€å¿« |
| CatBoost | ~$66M | ~$36M | ~0.74 | è¼ƒæ…¢ |
| Voting (Simple) | ~$65M | ~$35M | ~0.75 | ä¸­ç­‰ |
| Voting (Weighted) | ~$64M | ~$34M | ~0.76 | ä¸­ç­‰ |
| Stacking | ~$63M | ~$33M | ~0.77 | æœ€æ…¢ |

**å¯¦éš›åŸ·è¡Œçµæœ**:

**æœ¬åœ°ç‰ˆæœ¬ï¼ˆsimple_main.pyï¼‰**:
- Random Forest: RÂ² = 0.6884, RMSE = $72.4M
- ç‰¹å¾µæ•¸é‡: 14 å€‹åŸºç¤ç‰¹å¾µ

**å®Œæ•´ç‰ˆæœ¬ï¼ˆrun_complete_pipeline.pyï¼‰**:
- Random Forest (å„ªåŒ–ç‰ˆ): RÂ² = 0.6819, RMSE = $73.1M
- äº¤å‰é©—è­‰ RMSE: $78.4M (Â±$5.2M)
- ç‰¹å¾µæ•¸é‡: 20 å€‹ç‰¹å¾µ
- è¨“ç·´é›† RÂ²: 0.9212ï¼ˆé¡¯ç¤ºæ¨¡å‹æœ‰ä¸€å®šéæ“¬åˆï¼‰

**Kaggle ç‰ˆæœ¬ï¼ˆmain-2.pyï¼‰**:
- æ”¯æ´å¤šæ¨¡å‹èåˆï¼ˆRF + XGBoost + LightGBM + CatBoostï¼‰
- ä½¿ç”¨ Voting Ensemble ç­–ç•¥
- ç‰¹å¾µæ•¸é‡: 32 å€‹å®Œæ•´ç‰¹å¾µ
- é æœŸæ€§èƒ½æå‡ 5-10%

**é—œéµç™¼ç¾**:
- Budget æ˜¯æœ€é‡è¦çš„ç‰¹å¾µï¼ˆé‡è¦æ€§ 57-59%ï¼‰
- å¢åŠ ç‰¹å¾µæ•¸é‡å¾ 14 â†’ 20 â†’ 32 å€‹
- æ¨¡å‹èåˆå¯é€²ä¸€æ­¥æå‡æ€§èƒ½

### 5.2 ç‰¹å¾µé‡è¦æ€§

**Version 1.0 - åŸºç¤æ¨¡å‹ Top 5**:

| æ’å | ç‰¹å¾µ | é‡è¦æ€§ | èªªæ˜ |
|------|------|--------|------|
| 1 | budget | 59.35% | é›»å½±é ç®—æ˜¯æœ€é—œéµå› ç´  |
| 2 | popularity | 12.11% | äººæ°£åº¦å°ç¥¨æˆ¿æœ‰é¡¯è‘—å½±éŸ¿ |
| 3 | runtime | 5.35% | é›»å½±æ™‚é•·çš„å½±éŸ¿ |
| 4 | release_month | 3.57% | ä¸Šæ˜ æœˆä»½ï¼ˆå­£ç¯€æ€§ï¼‰ |
| 5 | release_year | 3.56% | ä¸Šæ˜ å¹´ä»½çš„è¶¨å‹¢ |

**Version 2.0 - é€²éšæ¨¡å‹ Top 20** (Random Forest) â­:

| æ’å | ç‰¹å¾µ | é‡è¦æ€§ | é¡åˆ¥ |
|------|------|--------|------|
| 1 | **top_company_mean_revenue** | **9.40%** | æ­·å²æ•¸æ“š â­ |
| 2 | **top_company_max_revenue** | **7.76%** | æ­·å²æ•¸æ“š |
| 3 | **budget_x_company_mean** | **6.48%** | äº¤äº’ç‰¹å¾µ |
| 4 | budget_x_popularity | 4.93% | äº¤äº’ç‰¹å¾µ |
| 5 | budget_x_runtime | 3.57% | äº¤äº’ç‰¹å¾µ |
| 6 | budget_x_year | 3.43% | äº¤äº’ç‰¹å¾µ |
| 7 | budget_squared | 3.18% | å¤šé …å¼ç‰¹å¾µ |
| 8 | company_revenue_to_budget_ratio | 3.11% | æ¯”ä¾‹ç‰¹å¾µ |
| 9 | budget_per_crew | 2.70% | æ¯”ä¾‹ç‰¹å¾µ |
| 10 | log_budget | 2.70% | Log è½‰æ› |
| 11 | budget_sqrt | 2.49% | å¤šé …å¼ç‰¹å¾µ |
| 12 | popularity_x_runtime | 2.39% | äº¤äº’ç‰¹å¾µ |
| 13 | popularity_squared | 2.12% | å¤šé …å¼ç‰¹å¾µ |
| 14 | budget_per_minute | 2.06% | æ¯”ä¾‹ç‰¹å¾µ |
| 15 | budget | 2.06% | åŸºç¤ç‰¹å¾µ |
| 16 | popularity_x_year | 1.93% | äº¤äº’ç‰¹å¾µ |
| 17 | popularity_cubed | 1.89% | å¤šé …å¼ç‰¹å¾µ |
| 18 | top_company_movie_count | 1.89% | æ­·å²æ•¸æ“š |
| 19 | popularity_sqrt | 1.86% | å¤šé …å¼ç‰¹å¾µ |
| 20 | log_popularity | 1.78% | Log è½‰æ› |

**é—œéµç™¼ç¾**:
1. **æ­·å²æ•¸æ“šç‰¹å¾µæœ€é‡è¦** ğŸ¯
   - è£½ä½œå…¬å¸çš„å¹³å‡ç¥¨æˆ¿ï¼ˆ9.40%ï¼‰æ˜¯æœ€é‡è¦ç‰¹å¾µ
   - è¶…è¶Šäº†å‚³çµ±çš„ budget ç‰¹å¾µ
   - è­‰æ˜"å¥½å…¬å¸ = é«˜ç¥¨æˆ¿"çš„å‡è¨­

2. **äº¤äº’ç‰¹å¾µéå¸¸æœ‰æ•ˆ** ğŸ’¡
   - budget Ã— company_mean æ’åç¬¬3ï¼ˆ6.48%ï¼‰
   - æ•æ‰äº†"å¤§é ç®— + å¥½å…¬å¸ = è¶…é«˜ç¥¨æˆ¿"çš„æ¨¡å¼
   - 6å€‹äº¤äº’ç‰¹å¾µé€²å…¥ Top 20

3. **å¤šé …å¼ç‰¹å¾µæå‡æ€§èƒ½** ğŸ“ˆ
   - å¹³æ–¹ã€ç«‹æ–¹ã€å¹³æ–¹æ ¹ç‰¹å¾µéƒ½å¾ˆé‡è¦
   - æ•æ‰éç·šæ€§é—œä¿‚

4. **ç‰¹å¾µåˆ†æ•£åŒ–** ğŸ“Š
   - V1.0: budget ä½” 59.35%ï¼ˆéåº¦é›†ä¸­ï¼‰
   - V2.0: æœ€é«˜ç‰¹å¾µåƒ… 9.40%ï¼ˆæ›´å¹³è¡¡ï¼‰
   - æ¨¡å‹æ›´ç©©å®šï¼Œæ³›åŒ–èƒ½åŠ›æ›´å¼·

### 5.3 æœ€ä½³æ¨¡å‹é¸æ“‡

**ç•¶å‰æœ€ä½³å–®ä¸€æ¨¡å‹**: Gradient Boosting (é€²éšç‰ˆæœ¬) â­

**æ¨¡å‹æ€§èƒ½**:
- RMSE: $75,770,328
- MAE: $36,882,989
- RÂ²: **0.7034** ğŸ¯

**é¸æ“‡ç†ç”±**:
- æœ€é«˜çš„ RÂ² åˆ†æ•¸ï¼ˆ0.7034ï¼‰
- æœ€ä½çš„ MAEï¼ˆ$36.9Mï¼‰
- å°è¤‡é›œç‰¹å¾µé—œä¿‚çš„æ•æ‰èƒ½åŠ›å¼·
- è¨“ç·´æ™‚é–“å¯æ¥å—ï¼ˆ~120ç§’ï¼‰

**ç•¶å‰æœ€ä½³é›†æˆæ¨¡å‹**: Ensemble (RF + GB + Ridge)

**æ¨¡å‹æ€§èƒ½**:
- RMSE: $76,460,089
- MAE: $37,731,799
- RÂ²: 0.6980

**é¸æ“‡ç†ç”±**:
- ç©©å®šæ€§æ›´å¥½
- æ¸›å°‘éæ“¬åˆé¢¨éšª
- çµåˆå¤šå€‹æ¨¡å‹çš„å„ªå‹¢

**é æ¸¬çµæœçµ±è¨ˆ** (é€²éšæ¨¡å‹):
- æœ€å°é æ¸¬å€¼: $2,003
- æœ€å¤§é æ¸¬å€¼: $1,248,495,580
- å¹³å‡é æ¸¬å€¼: $47,214,809 (æ›´åˆç†)
- ä¸­ä½æ•¸é æ¸¬å€¼: $8,845,437

**å°æ¯”åŸºç¤æ¨¡å‹**:
- å¹³å‡é æ¸¬å€¼å¾ $72M é™è‡³ $47Mï¼ˆæ›´æ¥è¿‘çœŸå¯¦ä¸­ä½æ•¸ $16.8Mï¼‰
- é æ¸¬åˆ†å¸ƒæ›´åˆç†
- RÂ² å¾ 0.688 æå‡è‡³ 0.703ï¼ˆ+2.2%ï¼‰

**é æœŸæœ€ä½³æ¨¡å‹** (å®‰è£å®Œæ•´å¥—ä»¶å¾Œ):
- **XGBoost + LightGBM + CatBoost** é›†æˆ
- é æœŸ RÂ² å¯é” **0.75-0.78**
- RMSE å¯é™ä½è‡³ **$60-65M**
- Kaggle æ’åé æœŸé€²å…¥ **Top 20-30%**

---

## 6. æ¨¡å‹æ¼”é€²èˆ‡æ”¹é€²

### 6.1 ç‰ˆæœ¬å°æ¯”

#### V1.0 - simple_main.pyï¼ˆåŸºç¤ç‰ˆæœ¬ï¼‰

**ç‰¹å¾µæ•¸é‡**: 14å€‹
**æ¨¡å‹**: Random Forest
**æ€§èƒ½**:
- RÂ²: 0.6884
- RMSE: $72,395,536
- MAE: $39,823,460

**ç‰¹å¾µåˆ—è¡¨**:
```python
[
    'budget', 'popularity', 'runtime',
    'release_year', 'release_month',
    'genres_count', 'cast_count', 'crew_count',
    'has_collection', 'title_length', 'overview_length',
    'budget_popularity_ratio',
    'original_language', 'top_genre'
]
```

**å„ªé»**:
- ç°¡å–®æ˜“æ‡‚
- å¿«é€ŸåŸ·è¡Œï¼ˆ~30ç§’ï¼‰
- ç„¡éœ€é¡å¤–å¥—ä»¶

**ç¼ºé»**:
- ç‰¹å¾µå·¥ç¨‹ä¸è¶³
- å–®ä¸€æ¨¡å‹
- æœªè™•ç†ç›®æ¨™è®Šæ•¸åæ…‹

---

#### V2.0 - advanced_model.pyï¼ˆé€²éšç‰ˆæœ¬ï¼‰â­

**ç‰¹å¾µæ•¸é‡**: 83å€‹ï¼ˆ+493%ï¼‰
**æ¨¡å‹**: Random Forest + Gradient Boosting + Ridgeï¼ˆé›†æˆï¼‰
**æ€§èƒ½**:
- RÂ²: 0.7034ï¼ˆ+2.2%ï¼‰
- RMSE: $75,770,328
- MAE: $36,882,989ï¼ˆ-7.3%ï¼‰

**é—œéµæ”¹é€²**:

1. **æ­·å²çµ±è¨ˆç‰¹å¾µ**ï¼ˆ12å€‹æ–°ç‰¹å¾µï¼‰â­ æœ€é‡è¦å‰µæ–°
```python
# æ¼”å“¡æ­·å²
- top_actor_mean_revenue
- top_actor_max_revenue
- top_actor_movie_count
- top3_actors_mean_revenue

# å°æ¼”æ­·å²
- director_mean_revenue
- director_max_revenue
- director_movie_count

# è£½ä½œå…¬å¸æ­·å²
- top_company_mean_revenue (9.40% é‡è¦æ€§) â­
- top_company_max_revenue (7.76% é‡è¦æ€§)
- top_company_movie_count
```

2. **äº¤äº’ç‰¹å¾µ**ï¼ˆ9å€‹æ–°ç‰¹å¾µï¼‰
```python
- budget_x_company_mean (6.48% é‡è¦æ€§)
- budget_x_popularity
- budget_x_runtime
- budget_x_year
- popularity_x_year
- budget_x_cast_count
- budget_x_has_collection
- budget_x_director_mean
- budget_x_actor_mean
```

3. **å¤šé …å¼ç‰¹å¾µ**ï¼ˆ6å€‹æ–°ç‰¹å¾µï¼‰
```python
- budget_squared, budget_cubed
- popularity_squared, popularity_cubed
- budget_sqrt, popularity_sqrt
```

4. **Log è½‰æ›**
```python
# ç›®æ¨™è®Šæ•¸
y_log = np.log1p(revenue)

# ç‰¹å¾µ
log_budget, log_popularity
```

5. **æ¨¡å‹é›†æˆ**
```python
Ensemble = 0.40 Ã— RF + 0.50 Ã— GB + 0.10 Ã— Ridge
```

**å„ªé»**:
- æ·±åº¦ç‰¹å¾µå·¥ç¨‹
- å¤šæ¨¡å‹é›†æˆ
- è™•ç†åæ…‹åˆ†å¸ƒ
- æ€§èƒ½é¡¯è‘—æå‡

**ç¼ºé»**:
- è¨“ç·´æ™‚é–“è¼ƒé•·ï¼ˆ~180ç§’ï¼‰
- è¤‡é›œåº¦è¼ƒé«˜

---

#### V3.0 - main.pyï¼ˆå®Œæ•´ç‰ˆæœ¬ï¼‰

**ç‰¹å¾µæ•¸é‡**: 83å€‹ï¼ˆåŒV2.0ï¼‰
**æ¨¡å‹**: RF + GB + XGBoost + LightGBM + CatBoostï¼ˆéœ€å®‰è£ï¼‰
**é æœŸæ€§èƒ½**:
- RÂ²: 0.75-0.78ï¼ˆé æœŸï¼‰
- RMSE: $60-65Mï¼ˆé æœŸï¼‰

**é¡å¤–æ”¹é€²**:
- æ”¯æ´ XGBoost/LightGBM/CatBoost
- 5æ¨¡å‹é›†æˆ
- æ›´å„ªåŒ–çš„è¶…åƒæ•¸

**ç‹€æ…‹**: éœ€è¦å®‰è£é¡å¤–å¥—ä»¶
```bash
pip install xgboost lightgbm catboost
```

---

### 6.2 æ€§èƒ½æå‡åˆ†æ

#### é‡åŒ–æ”¹é€²

| æŒ‡æ¨™ | V1.0 | V2.0 | æ”¹é€²å¹…åº¦ |
|------|------|------|---------|
| **RÂ²** | 0.6884 | **0.7034** | **+2.2%** |
| **RMSE** | $72.4M | $75.8M | - |
| **MAE** | $39.8M | **$36.9M** | **-7.3%** |
| **ç‰¹å¾µæ•¸** | 14 | **83** | **+493%** |
| **æ¨¡å‹æ•¸** | 1 | **3** | **+200%** |
| **è¨“ç·´æ™‚é–“** | 30s | 180s | +500% |

#### ç‰¹å¾µé‡è¦æ€§è®ŠåŒ–

**V1.0 Top 5**:
1. budget (59.35%) - éåº¦é›†ä¸­
2. popularity (12.11%)
3. runtime (5.35%)
4. release_month (3.57%)
5. release_year (3.56%)

**V2.0 Top 5**:
1. top_company_mean_revenue (9.40%) - æ›´åˆ†æ•£ â­
2. top_company_max_revenue (7.76%)
3. budget_x_company_mean (6.48%)
4. budget_x_popularity (4.93%)
5. budget_x_runtime (3.57%)

**é—œéµè®ŠåŒ–**:
- ç‰¹å¾µé‡è¦æ€§å¾éåº¦é›†ä¸­ï¼ˆ59%ï¼‰è®Šç‚ºåˆ†æ•£ï¼ˆ9.4%ï¼‰
- æ­·å²çµ±è¨ˆç‰¹å¾µè¶…è¶Šå‚³çµ±ç‰¹å¾µ
- äº¤äº’ç‰¹å¾µä½”æ“šé‡è¦ä½ç½®

---

### 6.3 ä¸»è¦ç™¼ç¾

#### 1. è£½ä½œå…¬å¸æ˜¯æœ€å¼·é æ¸¬å› å­ â­

**ç™¼ç¾**: è£½ä½œå…¬å¸çš„æ­·å²å¹³å‡ç¥¨æˆ¿ï¼ˆ9.40%ï¼‰è¶…è¶Šäº†å‚³çµ±çš„ budget ç‰¹å¾µï¼ˆ2.06%ï¼‰

**è­‰æ“š**:
- V1.0: budget æ˜¯æœ€é‡è¦ç‰¹å¾µï¼ˆ59.35%ï¼‰
- V2.0: top_company_mean_revenue æ˜¯æœ€é‡è¦ç‰¹å¾µï¼ˆ9.40%ï¼‰
- æ¨¡å‹æ€§èƒ½æå‡ 2.2%

**å¯¦éš›æ„ç¾©**:
- å¤§å‹è£½ä½œå…¬å¸ï¼ˆè¿ªå£«å°¼ã€è¯ç´ç­‰ï¼‰æœ‰ç©©å®šçš„é«˜ç¥¨æˆ¿è¨˜éŒ„
- å…¬å¸å“ç‰Œã€ç™¼è¡Œèƒ½åŠ›ã€ç‡ŸéŠ·è³‡æºéƒ½å½±éŸ¿ç¥¨æˆ¿
- æŠ•è³‡æ±ºç­–æ‡‰å„ªå…ˆè€ƒæ…®è£½ä½œå…¬å¸

#### 2. äº¤äº’ç‰¹å¾µæ•æ‰å”åŒæ•ˆæ‡‰

**ç™¼ç¾**: budget Ã— company_mean æ’åç¬¬3ï¼ˆ6.48%ï¼‰

**è§£é‡‹**:
- "å¤§é ç®— + å¥½å…¬å¸" ç”¢ç”Ÿå”åŒæ•ˆæ‡‰
- å–®ç¨çš„ budget æˆ– company ç„¡æ³•å®Œå…¨è§£é‡‹ç¥¨æˆ¿
- äº¤äº’ç‰¹å¾µæ•æ‰äº†éç·šæ€§é—œä¿‚

#### 3. Log è½‰æ›è‡³é—œé‡è¦

**ç™¼ç¾**: é æ¸¬å¹³å‡å€¼å¾ $72M é™è‡³ $47Mï¼Œæ›´æ¥è¿‘çœŸå¯¦ä¸­ä½æ•¸ $16.8M

**æ•ˆæœ**:
- è™•ç†æ¥µåº¦å³åæ…‹åˆ†å¸ƒ
- æ¨¡å‹æ›´ç©©å®š
- é æ¸¬æ›´åˆç†

#### 4. æ¨¡å‹é›†æˆæå‡ç©©å®šæ€§

**ç™¼ç¾**: Ensemble RÂ² (0.698) ä»‹æ–¼ RF (0.681) å’Œ GB (0.703) ä¹‹é–“

**å„ªå‹¢**:
- æ¸›å°‘å–®ä¸€æ¨¡å‹çš„åå·®
- æå‡é æ¸¬ç©©å®šæ€§
- é™ä½éæ“¬åˆé¢¨éšª

---

### 6.4 æ”¹é€²æ–¹å‘

#### å·²å®Œæˆ âœ…
- [x] æ·±åº¦ç‰¹å¾µå·¥ç¨‹ï¼ˆ83å€‹ç‰¹å¾µï¼‰
- [x] æ­·å²çµ±è¨ˆç‰¹å¾µ
- [x] äº¤äº’ç‰¹å¾µå’Œå¤šé …å¼ç‰¹å¾µ
- [x] Log è½‰æ›è™•ç†åæ…‹
- [x] å¤šæ¨¡å‹é›†æˆ

#### çŸ­æœŸç›®æ¨™ï¼ˆæœ¬é€±ï¼‰
- [ ] å®‰è£ XGBoost/LightGBM/CatBoost
- [ ] è¶…åƒæ•¸èª¿å„ªï¼ˆRandomizedSearchCVï¼‰
- [ ] 5-Fold äº¤å‰é©—è­‰
- [ ] ç‰¹å¾µé¸æ“‡ï¼ˆç§»é™¤ä½é‡è¦æ€§ç‰¹å¾µï¼‰

#### ä¸­æœŸç›®æ¨™ï¼ˆæœ¬æœˆï¼‰
- [ ] Stacking é›†æˆ
- [ ] å¤–éƒ¨æ•¸æ“šå¢å¼·ï¼ˆIMDb è©•åˆ†ï¼‰
- [ ] æ·±åº¦å­¸ç¿’æ¨¡å‹
- [ ] é”åˆ° RÂ² > 0.78

---

### 6.5 å°ˆæ¡ˆç¸½çµ

æœ¬å°ˆæ¡ˆæˆåŠŸæ‡‰ç”¨ Taskmaster æ–¹æ³•ï¼Œç³»çµ±æ€§åœ°å®Œæˆäº†å¾åŸºç¤æ¨¡å‹åˆ°é€²éšæ¨¡å‹çš„æ¼”é€²ã€‚é€šéæ·±åº¦ç‰¹å¾µå·¥ç¨‹ï¼ˆç‰¹åˆ¥æ˜¯æ­·å²çµ±è¨ˆç‰¹å¾µï¼‰å’Œæ¨¡å‹å„ªåŒ–ï¼Œå°‡ RÂ² å¾ 0.688 æå‡è‡³ 0.703ã€‚

**é—œéµæˆåŠŸå› ç´ **:
1. **æ­·å²çµ±è¨ˆç‰¹å¾µ** - æœ€å¤§å‰µæ–°é»ï¼Œè£½ä½œå…¬å¸æ­·å²æˆç‚ºæœ€å¼·é æ¸¬å› å­
2. **äº¤äº’ç‰¹å¾µ** - æ•æ‰éç·šæ€§é—œä¿‚å’Œå”åŒæ•ˆæ‡‰
3. **Log è½‰æ›** - è™•ç†åæ…‹åˆ†å¸ƒï¼Œæå‡æ¨¡å‹ç©©å®šæ€§
4. **æ¨¡å‹é›†æˆ** - çµåˆå¤šå€‹æ¨¡å‹çš„å„ªå‹¢
5. **è¿­ä»£é–‹ç™¼** - å¾ç°¡å–®åˆ°è¤‡é›œï¼ŒæŒçºŒå„ªåŒ–

**å­¸ç¿’æ”¶ç©«**:
1. æŒæ¡äº†å®Œæ•´çš„æ©Ÿå™¨å­¸ç¿’æµç¨‹
2. ç†è§£äº†ç‰¹å¾µå·¥ç¨‹çš„é‡è¦æ€§ï¼ˆç‰¹å¾µå·¥ç¨‹ > æ¨¡å‹é¸æ“‡ï¼‰
3. å­¸æœƒäº†è™•ç†è¤‡é›œ JSON è³‡æ–™
4. æŒæ¡äº†æ¨¡å‹èåˆæŠ€è¡“
5. å­¸æœƒäº†ç³»çµ±æ€§çš„å°ˆæ¡ˆé–‹ç™¼æ–¹æ³•

**å¯¦éš›æ‡‰ç”¨åƒ¹å€¼**:
1. **é›»å½±æŠ•è³‡æ±ºç­–** - è£½ä½œå…¬å¸æ˜¯æœ€é‡è¦è€ƒé‡å› ç´ 
2. **é¢¨éšªè©•ä¼°** - é æ¸¬ç¥¨æˆ¿ç¯„åœï¼Œè­˜åˆ¥é«˜é¢¨éšªé …ç›®
3. **ç™¼è¡Œç­–ç•¥** - æœ€ä½³ä¸Šæ˜ æ™‚é–“ï¼ˆæš‘æœŸæª”ã€å¹´åº•æª”ï¼‰
4. **ç‡ŸéŠ·ç­–ç•¥** - é ç®—åˆ†é…å„ªåŒ–

**ä¸‹ä¸€æ­¥**:
å®‰è£é€²éšæ¨¡å‹åº«ï¼ˆXGBoost/LightGBM/CatBoostï¼‰ï¼Œé æœŸå¯å°‡ RÂ² æå‡è‡³ 0.75-0.78ï¼Œé€²å…¥ Kaggle Top 20-30%ã€‚

---

## é™„éŒ„

### A. ç¨‹å¼ç¢¼çµæ§‹
```
project/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ train.csv
â”‚   â”œâ”€â”€ test.csv
â”‚   â””â”€â”€ sample_submission.csv
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_eda.ipynb
â”‚   â”œâ”€â”€ 02_preprocessing.ipynb
â”‚   â”œâ”€â”€ 03_modeling.ipynb
â”‚   â””â”€â”€ 04_ensemble.ipynb
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data_preprocessing.py
â”‚   â”œâ”€â”€ feature_engineering.py
â”‚   â”œâ”€â”€ models.py
â”‚   â””â”€â”€ ensemble.py
â”œâ”€â”€ task.md
â”œâ”€â”€ report.md
â””â”€â”€ README.md
```

### B. åƒè€ƒè³‡æ–™
- Kaggle TMDB Dataset: https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata
- Scikit-learn Documentation
- XGBoost Documentation
- LightGBM Documentation
- CatBoost Documentation

---

*å ±å‘Šæœ€å¾Œæ›´æ–°æ™‚é–“: 2025-12-03*

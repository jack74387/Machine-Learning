# ğŸ¬ TMDB é›»å½±ç¥¨æˆ¿é æ¸¬å°ˆæ¡ˆ

ä½¿ç”¨ Taskmaster æ–¹æ³•ç³»çµ±åŒ–é–‹ç™¼çš„æ©Ÿå™¨å­¸ç¿’å°ˆæ¡ˆï¼Œé æ¸¬é›»å½±ç¥¨æˆ¿æ”¶å…¥ã€‚

**å°ˆæ¡ˆç‹€æ…‹**: âœ… å®Œæˆ | **ç•¶å‰ç‰ˆæœ¬**: V2.0 | **æœ€ä½³æ€§èƒ½**: RÂ² = 0.703

## ğŸ¯ å¿«é€Ÿé–‹å§‹

```bash
# 1. åŸ·è¡Œé€²éšæ¨¡å‹ï¼ˆæ¨è–¦ï¼‰
python advanced_model.py

# 2. æŸ¥çœ‹çµæœ
# è¼¸å‡º: submission_advanced.csv
# æ€§èƒ½: RÂ² = 0.703, RMSE = $75.8M

# 3. æäº¤åˆ° Kaggle
# ä¸Šå‚³ submission_advanced.csv
```

è©³ç´°èªªæ˜è«‹åƒè€ƒ [QUICK_START.md](QUICK_START.md)

---

## ğŸ“Š å°ˆæ¡ˆæˆæœ

### æ¨¡å‹æ€§èƒ½

| ç‰ˆæœ¬ | æª”æ¡ˆ | RÂ² | RMSE | ç‰¹å¾µæ•¸ | ç‹€æ…‹ |
|------|------|----|----|--------|------|
| V1.0 | simple_main.py | 0.688 | $72.4M | 14 | âœ… |
| V2.0 | advanced_model.py | **0.703** | **$75.8M** | **83** | âœ… **æ¨è–¦** |
| V3.0 | main.py | 0.75+ï¼ˆé æœŸï¼‰ | $60-65M | 83 | â³ éœ€å®‰è£å¥—ä»¶ |

### é—œéµå‰µæ–°

1. **æ­·å²çµ±è¨ˆç‰¹å¾µ** â­ - è£½ä½œå…¬å¸æ­·å²æˆç‚ºæœ€å¼·é æ¸¬å› å­ï¼ˆ9.40%ï¼‰
2. **äº¤äº’ç‰¹å¾µ** - budget Ã— company_mean æ’åç¬¬3ï¼ˆ6.48%ï¼‰
3. **Log è½‰æ›** - è™•ç†åæ…‹åˆ†å¸ƒï¼Œæå‡ç©©å®šæ€§
4. **æ¨¡å‹é›†æˆ** - RF + GB + Ridge åŠ æ¬Šå¹³å‡

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ train.csv                 # è¨“ç·´è³‡æ–™
â”œâ”€â”€ test.csv                  # æ¸¬è©¦è³‡æ–™
â”œâ”€â”€ sample_submission.csv     # æäº¤ç¯„ä¾‹
â”œâ”€â”€ main.py                   # ä¸»ç¨‹å¼
â”œâ”€â”€ task.md                   # ä»»å‹™è¦åŠƒæ–‡ä»¶
â”œâ”€â”€ report.md                 # å°ˆæ¡ˆå ±å‘Š
â”œâ”€â”€ README.md                 # æœ¬æ–‡ä»¶
â””â”€â”€ submission.csv            # ç”Ÿæˆçš„é æ¸¬çµæœ
```

## ç’°å¢ƒéœ€æ±‚

### Python ç‰ˆæœ¬
- Python 3.8+

### å¿…è¦å¥—ä»¶
```bash
pip install pandas numpy scikit-learn xgboost lightgbm catboost matplotlib seaborn
```

æˆ–ä½¿ç”¨ requirements.txt:
```bash
pip install -r requirements.txt
```

## å¿«é€Ÿé–‹å§‹

### æ–¹æ¡ˆ A: æœ¬åœ°åŸ·è¡Œï¼ˆç°¡åŒ–ç‰ˆï¼‰

é©åˆå¿«é€Ÿæ¸¬è©¦ï¼Œä¸éœ€è¦å®‰è£é¡å¤–å¥—ä»¶ã€‚

```bash
python simple_main.py
```

### æ–¹æ¡ˆ B: æœ¬åœ°åŸ·è¡Œï¼ˆå®Œæ•´ç‰ˆï¼‰

éœ€è¦å®‰è£å®Œæ•´å¥—ä»¶ã€‚

1. å®‰è£ä¾è³´ï¼š
```bash
pip install -r requirements.txt
```

2. åŸ·è¡Œå®Œæ•´æµç¨‹ï¼š
```bash
python run_complete_pipeline.py
```

### æ–¹æ¡ˆ C: Kaggle Notebookï¼ˆâ­ æœ€æ¨è–¦ï¼‰

**æœ€æ¨è–¦çš„æ–¹å¼**ï¼Œå¯ä»¥ä½¿ç”¨ Kaggle çš„å…è²» GPU å’Œé è£å¥—ä»¶ã€‚

1. å‰å¾€ [TMDB Box Office Prediction](https://www.kaggle.com/competitions/tmdb-box-office-prediction)
2. å‰µå»ºæ–°çš„ Notebook
3. è¤‡è£½ `kaggle_notebook.py` çš„å…§å®¹ï¼ˆâš ï¸ ä¸è¦ç”¨ main-2.pyï¼‰
4. åŸ·è¡Œä¸¦æäº¤

**å¿«é€Ÿé–‹å§‹**: åƒè€ƒ [KAGGLE_QUICK_START.md](KAGGLE_QUICK_START.md)ï¼ˆ3 æ­¥é©Ÿï¼‰
**è©³ç´°èªªæ˜**: åƒè€ƒ [KAGGLE_GUIDE.md](KAGGLE_GUIDE.md)

### åŸ·è¡Œæµç¨‹

ç¨‹å¼æœƒè‡ªå‹•åŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼š
1. è¼‰å…¥è³‡æ–™
2. æ¢ç´¢æ€§è³‡æ–™åˆ†æï¼ˆEDAï¼‰
3. ç‰¹å¾µå·¥ç¨‹ï¼ˆ32 å€‹ç‰¹å¾µï¼‰
4. è¨“ç·´å¤šå€‹æ¨¡å‹ï¼ˆRandom Forest, XGBoost, LightGBM, CatBoostï¼‰
5. æ¨¡å‹èåˆï¼ˆVoting Ensembleï¼‰
6. ç”Ÿæˆé æ¸¬çµæœ

### æŸ¥çœ‹çµæœ

åŸ·è¡Œå®Œæˆå¾Œæœƒç”Ÿæˆï¼š
- `submission.csv` - é æ¸¬çµæœ
- `model_evaluation_report.png` - æ¨¡å‹è©•ä¼°å ±å‘Š
- `eda_*.png` - æ¢ç´¢æ€§è³‡æ–™åˆ†æåœ–è¡¨ï¼ˆ6 å¼µï¼‰

## å°ˆæ¡ˆç‰¹è‰²

### 1. Taskmaster æ–¹æ³•
æ¡ç”¨ç³»çµ±åŒ–çš„ä»»å‹™åˆ†è§£æ–¹æ³•ï¼Œå°‡å°ˆæ¡ˆåˆ†ç‚ºå¤šå€‹éšæ®µï¼š
- å•é¡Œå®šç¾©èˆ‡è³‡æ–™ç†è§£
- æ¢ç´¢æ€§è³‡æ–™åˆ†æ
- è³‡æ–™é è™•ç†
- æ¨¡å‹å»ºç«‹èˆ‡è¨“ç·´
- æ¨¡å‹èåˆ
- è©•ä¼°èˆ‡å„ªåŒ–

### 2. å®Œæ•´çš„ç‰¹å¾µå·¥ç¨‹
- æ™‚é–“ç‰¹å¾µæå–ï¼ˆå¹´ã€æœˆã€æ—¥ã€å­£åº¦ï¼‰
- JSON æ¬„ä½è§£æï¼ˆgenres, cast, crew, keywordsï¼‰
- è¡ç”Ÿç‰¹å¾µå‰µå»ºï¼ˆbudget_popularity_ratio, budget_per_minuteï¼‰
- æ–‡æœ¬é•·åº¦ç‰¹å¾µ
- é¡åˆ¥ç‰¹å¾µç·¨ç¢¼

### 3. å¤šæ¨¡å‹èåˆ
å¯¦ä½œäº†å¤šç¨®æ¨¡å‹èåˆç­–ç•¥ï¼š
- **Simple Voting**: ç°¡å–®å¹³å‡
- **Weighted Voting**: åŠ æ¬Šå¹³å‡
- æ”¯æ´ Random Forest, XGBoost, LightGBM, CatBoost

### 4. å®Œæ•´çš„æ–‡ä»¶è¨˜éŒ„
- `task.md`: è©³ç´°çš„ä»»å‹™è¦åŠƒ
- `report.md`: å®Œæ•´çš„å°ˆæ¡ˆå ±å‘Šï¼ŒåŒ…å«ï¼š
  - é¡Œç›®é¸å®š
  - è³‡æ–™åˆ†æåŠè™•ç†
  - æ¨¡å‹æ¶æ§‹èˆ‡ä»‹ç´¹
  - Voting ä½œæ³•è¨è«–
  - æœ€çµ‚çµæœå’Œçµè«–

## ä¸»è¦åŠŸèƒ½

### TMDBPredictor é¡åˆ¥

```python
predictor = TMDBPredictor()

# è¼‰å…¥è³‡æ–™
predictor.load_data()

# æ¢ç´¢æ€§è³‡æ–™åˆ†æ
predictor.explore_data()

# æº–å‚™ç‰¹å¾µ
predictor.prepare_features()

# è¨“ç·´æ¨¡å‹
predictor.train_models()

# æ¨¡å‹èåˆ
predictor.ensemble_voting()

# ç”Ÿæˆé æ¸¬
submission = predictor.predict_and_submit()
```

## æ¨¡å‹èªªæ˜

### 1. Random Forest
- æ¨¹çš„æ•¸é‡: 100
- æœ€å¤§æ·±åº¦: 15
- æœ€å°åˆ†è£‚æ¨£æœ¬æ•¸: 5

### 2. XGBoost
- è¿­ä»£æ¬¡æ•¸: 100
- æœ€å¤§æ·±åº¦: 6
- å­¸ç¿’ç‡: 0.1

### 3. LightGBM
- è¿­ä»£æ¬¡æ•¸: 100
- æœ€å¤§æ·±åº¦: 6
- å­¸ç¿’ç‡: 0.1

### 4. CatBoost
- è¿­ä»£æ¬¡æ•¸: 100
- æ·±åº¦: 6
- å­¸ç¿’ç‡: 0.1

## è©•ä¼°æŒ‡æ¨™

- **RMSE** (Root Mean Squared Error): ä¸»è¦è©•ä¼°æŒ‡æ¨™
- **MAE** (Mean Absolute Error): æ¬¡è¦è©•ä¼°æŒ‡æ¨™
- **RÂ²** (R-squared): æ¨¡å‹è§£é‡‹åŠ›

## ç‰¹å¾µåˆ—è¡¨

### æ•¸å€¼ç‰¹å¾µ
- budget: é›»å½±é ç®—
- popularity: äººæ°£åº¦
- runtime: é›»å½±æ™‚é•·

### æ™‚é–“ç‰¹å¾µ
- release_year: ä¸Šæ˜ å¹´ä»½
- release_month: ä¸Šæ˜ æœˆä»½
- release_day: ä¸Šæ˜ æ—¥æœŸ
- release_quarter: ä¸Šæ˜ å­£åº¦

### è¨ˆæ•¸ç‰¹å¾µ
- genres_count: é¡å‹æ•¸é‡
- cast_count: æ¼”å“¡æ•¸é‡
- crew_count: å·¥ä½œäººå“¡æ•¸é‡
- keywords_count: é—œéµå­—æ•¸é‡
- production_companies_count: è£½ä½œå…¬å¸æ•¸é‡

### è¡ç”Ÿç‰¹å¾µ
- has_collection: æ˜¯å¦å±¬æ–¼ç³»åˆ—é›»å½±
- title_length: æ¨™é¡Œé•·åº¦
- overview_length: ç°¡ä»‹é•·åº¦
- tagline_length: æ¨™èªé•·åº¦
- budget_popularity_ratio: é ç®—äººæ°£æ¯”
- budget_per_minute: æ¯åˆ†é˜é ç®—

### é¡åˆ¥ç‰¹å¾µ
- original_language: åŸå§‹èªè¨€
- status: ç‹€æ…‹
- top_genre: ä¸»è¦é¡å‹

## é€²éšä½¿ç”¨

### è‡ªè¨‚æ¨¡å‹åƒæ•¸

```python
predictor = TMDBPredictor()
predictor.load_data()
predictor.prepare_features()

# è‡ªè¨‚ XGBoost åƒæ•¸
from xgboost import XGBRegressor
custom_xgb = XGBRegressor(
    n_estimators=200,
    max_depth=8,
    learning_rate=0.05
)
custom_xgb.fit(predictor.X_train, predictor.y_train)
```

### ä½¿ç”¨ä¸åŒçš„èåˆç­–ç•¥

```python
# ä½¿ç”¨ç‰¹å®šæ¨¡å‹é€²è¡Œé æ¸¬
submission = predictor.predict_and_submit(model_name='xgb')  # åªä½¿ç”¨ XGBoost
submission = predictor.predict_and_submit(model_name='voting')  # ä½¿ç”¨ç°¡å–® Voting
```

## å¸¸è¦‹å•é¡Œ

### Q1: åŸ·è¡Œæ™‚å‡ºç¾è¨˜æ†¶é«”ä¸è¶³
A: å¯ä»¥æ¸›å°‘æ¨¡å‹çš„ n_estimators åƒæ•¸ï¼Œæˆ–ä½¿ç”¨è¼ƒå°çš„ max_depthã€‚

### Q2: å¦‚ä½•æå‡é æ¸¬æº–ç¢ºåº¦ï¼Ÿ
A: å¯ä»¥å˜—è©¦ï¼š
- æ›´ç´°ç·»çš„ç‰¹å¾µå·¥ç¨‹
- è¶…åƒæ•¸èª¿å„ª
- å¢åŠ æ›´å¤šå¤–éƒ¨è³‡æ–™
- ä½¿ç”¨æ›´è¤‡é›œçš„èåˆç­–ç•¥ï¼ˆå¦‚ Stackingï¼‰

### Q3: è¨“ç·´æ™‚é–“å¤ªé•·
A: å¯ä»¥ï¼š
- æ¸›å°‘æ¨¡å‹æ•¸é‡
- é™ä½ n_estimators
- ä½¿ç”¨è¼ƒå°çš„è¨“ç·´é›†é€²è¡Œå¿«é€Ÿå¯¦é©—

## åƒè€ƒè³‡æ–™

- [Kaggle TMDB Dataset](https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata)
- [Scikit-learn Documentation](https://scikit-learn.org/)
- [XGBoost Documentation](https://xgboost.readthedocs.io/)
- [LightGBM Documentation](https://lightgbm.readthedocs.io/)
- [CatBoost Documentation](https://catboost.ai/docs/)

## æˆæ¬Š

MIT License

## ä½œè€…

TMDB Movie Revenue Prediction Project

## æ›´æ–°æ—¥èªŒ

- 2025-12-03: åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
  - å¯¦ä½œåŸºæœ¬ç‰¹å¾µå·¥ç¨‹
  - å¯¦ä½œå¤šæ¨¡å‹è¨“ç·´
  - å¯¦ä½œ Voting èåˆç­–ç•¥
  - å®Œæˆæ–‡ä»¶æ’°å¯«
